<!DOCTYPE html>
<html lang="en">

<head>
    <title>Alpha Builders</title>
    <!-- HTML5 Shim and Respond.js IE11 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 11]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description"
        content="" />
    <!-- <meta name="keywords"
        content="admin templates, bootstrap admin templates, bootstrap 4, dashboard, dashboard templets, sass admin templets, html admin templates, responsive, bootstrap admin templates free download,premium bootstrap admin templates, datta able, datta able bootstrap admin template, free admin theme, free dashboard template" /> -->
    <meta name="author" content="CodedThemes" />

    <!-- Favicon icon -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
 crossorigin="anonymous" referrerpolicy="no-referrer" />


<!-- Map -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <link rel="icon" href="../assets/images/Alpha-Builders.jpg" type="image/x-icon">
    <!-- fontawesome icon -->
    <link rel="stylesheet" href="../assets/fonts/fontawesome/css/fontawesome-all.min.css">
    <!-- animation css -->
    <link rel="stylesheet" href="../assets/plugins/animation/css/animate.min.css">
    <!-- vendor css -->
    <link rel="stylesheet" href="../assets/css/style.css">

    <style>
        .pcoded-micon:hover{
            color: white !important;
        }

        .pcoded-mtext:hover{
            color: white !important;
        }

        .nav-link:hover{
            color: white !important; 
        }

        .nav-item:hover{
            color: white !important;
        }

        .places {
            transition: transform 0.25s ease-in-out;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        }

        .places:hover {
            cursor: pointer;
            transform: scale(1.05);

        }


        .card123 {
            transition: transform 0.25s ease-in-out;
            /* background-color: #8EC5FC;
    background-image: linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%); */
            color: white;
        }

        .card123 :hover {
            cursor: pointer;
            transform: scale(1.05);
        }

        /* .navbarLink1{
            display: none;

        } */

        /*.navbarLink2{
            display: none;
        }*/

        .navbarLink3{
            display: none;
        }

        .navbarLink4{
            display: none;
        }

        .navbarLink5{
            display: none;
        }

        .navbarLink6{
            display: none;
        }

        .navbarLink7{
            display: none;
        }

        .navbarLink8{
            display: none;
        }

        .navbarLink9{
            display: none;
        }

        .navbarLink10{
            display: none;
        }

        .navbarLink11{
            display: none;
        }

        .navbarLink12{
            display: none;
        }

        .navbarLink13{
            display: none;
        }

        #map {
            height: 400px;
            width: 100%;
            margin-top: 100px;
        }

    </style>

</head>

<body>
    <!-- [ Pre-loader ] start -->
    <div class="loader-bg">
        <div class="loader-track">
            <div class="loader-fill"></div>
        </div>
    </div>
    <!-- [ Pre-loader ] End -->
    <!-- [ navigation menu ] start -->
    <nav class="pcoded-navbar">
        <div class="navbar-wrapper">
            <div class="navbar-brand header-logo">
                <a href="employee.html" class="b-brand">
                    <img style="margin-top: 100px; object-fit: contain;" src="../assets/images/Alpha-Builders.jpg"
                        width="100%" alt="">

                </a>

            </div>
            <div style="margin-top: 40px;" class="navbar-content scroll-div">
                <ul class="nav pcoded-inner-navbar">
                    <li class="nav-item pcoded-menu-caption">

                    </li>
                    <li data-username="dashboard Default Ecommerce CRM Analytics Crypto Project"
                        class="nav-item mt-5">
                        <a href="employee.html" class="nav-link "><span class="pcoded-micon"><i
                                    class="feather icon-home"></i></span><span class="pcoded-mtext">Admin 
                                Dashboard</span></a>
                    </li>

                    <li class="nav-item pcoded-menu-caption">
                        <label>Tables</label>
                    </li>


                    <!-- <li data-username="form elements advance componant validation masking wizard picker select" class="nav-item">
                        <a href="./applicant_form.html" class="nav-link "><span class="pcoded-micon"><i class="feather icon-file-text"></i></span><span class="pcoded-mtext">Enquiry Form</span></a>
                    </li> -->

                    
                    <!-- <li data-username="Table bootstrap datatable footable" class="nav-item">
                        <a href="./employeeTotalApplicants.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-person"></i></span><span class="pcoded-mtext">Total Applicant
                                List</span></a>
                    </li> -->

                    <li data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Tooltip on top" class="nav-item navbarLink1">
                        <a href="employeeAdd.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-person"></i></span><span class="pcoded-mtext">Add Employee
                                </span></a>
                    </li>

                    <li data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Tooltip on top" class="nav-item active navbarLink2">
                        <a href="employeeAttendance.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-id-card"></i></span><span class="pcoded-mtext">Employee Attendance
                                </span></a>
                    </li>

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink3">
                        <a href="./employeeApplicantList.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-person"></i></span><span class="pcoded-mtext">Applicant
                                List</span></a>
                    </li>

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink4">
                        <a href="./employeePaymentsTab.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-person"></i></span><span class="pcoded-mtext">Payments
                                </span></a>
                    </li>

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink5">
                        <a href="./employeeEnquiry.html" class="nav-link "><span class="pcoded-micon"><i class="fa-regular fa-envelope"></i></span><span  class="pcoded-mtext">Enquiry
                                Form</span></a>
                    </li>

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink6">
                        <a href="./employeeProject.html" class="nav-link "><span class="pcoded-micon"><i class="fa-regular fa-file"></i></span><span class="pcoded-mtext">All Projects</span></a>
                    </li>

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink7">
                        <a href="./employeePendings.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-clock-rotate-left"></i></span><span
                                class="pcoded-mtext">Pendings</span></a>
                    </li>

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink8">
                        <a href="./employeeOngoing.html" class="nav-link "><span class="pcoded-micon"><i class="fa-regular fa-calendar-check"></i></span><span
                                class="pcoded-mtext">Ongoing</span></a>
                    </li>

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink9">
                        <a href="./employeeCompleted.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-house-circle-check"></i></span><span
                                class="pcoded-mtext">Completed</span></a>
                    </li>

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink10">
                        <a href="employeeUpcoming.html" class="nav-link "><span class="pcoded-micon"><i class="fa-regular fa-square-plus"></i></span><span class="pcoded-mtext">Upcoming</span></a>
                    </li>

                   

                    <li data-username="Table bootstrap datatable footable" class="nav-item navbarLink11">
                        <a href="./employeeTasks.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-list-check"></i></span><span class="pcoded-mtext">Tasks</span></a>
                    </li>

                    <li data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Tooltip on top" class="nav-item navbarLink12">
                        <a href="employeeNotifications.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-person"></i></span><span class="pcoded-mtext">Notifications
                                </span></a>
                    </li>

                    <li data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Tooltip on top" class="nav-item navbarLink13">
                        <a href="employeeDownloadHistory.html" class="nav-link "><span class="pcoded-micon"><i class="fa-solid fa-person"></i></span><span class="pcoded-mtext">Download History
                                </span></a>
                    </li>

                    <li data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Tooltip on top" class="nav-item navbarLink14">
                        <a href="employeeSite.html" class="nav-link "><span class="pcoded-micon"><i class="fa-regular fa-building"></i></span><span class="pcoded-mtext">Site
                                </span></a>
                    </li>

                   

                    <!-- <li class="nav-item pcoded-menu-caption">
                        <label>Pages</label>
                    </li>
                    <li data-username="Authentication Sign up Sign in reset password Change password Personal information profile settings map form subscribe"
                        class="nav-item pcoded-hasmenu">
                        <a href="javascript:" class="nav-link "><span class="pcoded-micon"><i
                                    class="feather icon-lock"></i></span><span
                                class="pcoded-mtext">Authentication</span></a>
                        <ul class="pcoded-submenu">
                            <li class=""><a href="../auth-signup.html" class="" target="_blank">Sign up</a></li>
                            <li class=""><a href="../auth-signin.html" class="" target="_blank">Sign in</a></li>
                        </ul>
                    </li> -->

                </ul>
            </div>
        </div>
    </nav>
    <!-- [ navigation menu ] end -->

    <!-- [ Header ] start -->
    <header class="navbar pcoded-header navbar-expand-lg navbar-light">
        <div class="m-header">
            <a class="mobile-menu" id="mobile-collapse1" href="javascript:"><span></span></a>
            <a href="employee.html" class="b-brand">
                <div class="b-bg">

                </div>
                <span class="b-title">Alpha Builders</span>
            </a>
        </div>
        <a class="mobile-menu" id="mobile-header" href="javascript:">
            <i class="feather icon-more-horizontal"></i>
        </a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <li><a href="javascript:" class="full-screen" onclick="javascript:toggleFullScreen()"><i
                            class="feather icon-maximize"></i></a></li>
                <!-- <li class="nav-item dropdown">
                    <a class="dropdown-toggle" href="javascript:" data-toggle="dropdown">Dropdown</a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="./adminLandingPage.html" style="color: green;"><i
                                    class="fa-solid fa-arrow-left"></i>Go To Landing Page</a></li>

                    </ul>
                </li> -->
                <!-- <li class="nav-item">
                    <div class="main-search">
                        <div class="input-group">
                            <input type="text" id="m-search" class="form-control" placeholder="Search . . .">
                            <a href="javascript:" class="input-group-append search-close">
                                <i class="feather icon-x input-group-text"></i>
                            </a>
                            <span class="input-group-append search-btn btn btn-primary">
                                <i class="feather icon-search input-group-text"></i>
                            </span>
                        </div>
                    </div>
                </li> -->
            </ul>
            <ul class="navbar-nav ml-auto">
                <!-- <li>
                    <div class="dropdown">
                        <a class="dropdown-toggle" href="javascript:" data-toggle="dropdown"><i
                                class="icon feather icon-bell"></i></a>
                        <div class="dropdown-menu dropdown-menu-right notification">
                            <div class="noti-head">
                                <h6 class="d-inline-block m-b-0">Notifications</h6>
                                <div class="float-right">
                                    <a href="javascript:" class="m-r-10">mark as read</a>
                                    <a href="javascript:">clear all</a>
                                </div>
                            </div>
                            <ul class="noti-body">
                                <li class="n-title">
                                    <p class="m-b-0">NEW</p>
                                </li>
                                <li class="notification">
                                    <div class="media">
                                        <img class="img-radius" src="../assets/images/user/avatar-1.jpg"
                                            alt="Generic placeholder image">
                                        <div class="media-body">
                                            <p><strong>Kanes</strong><span class="n-time text-muted"><i
                                                        class="icon feather icon-clock m-r-10"></i>30 min ago</span></p>
                                            <p>Work Completed</p>
                                        </div>
                                    </div>
                                </li>
                                <li class="n-title">
                                    <p class="m-b-0">EARLIER</p>
                                </li>
                                <li class="notification">
                                    <div class="media">
                                        <img class="img-radius" src="../assets/images/user/avatar-2.jpg"
                                            alt="Generic placeholder image">
                                        <div class="media-body">
                                            <p><strong>Harris</strong><span class="n-time text-muted"><i
                                                        class="icon feather icon-clock m-r-10"></i>30 min</span></p>
                                            <p>Applicant Assigned</p>
                                        </div>
                                    </div>
                                </li>
                                <li class="notification">
                                    <div class="media">
                                        <img class="img-radius" src="../assets/images/user/avatar-3.jpg"
                                            alt="Generic placeholder image">
                                        <div class="media-body">
                                            <p><strong>Sean</strong><span class="n-time text-muted"><i
                                                        class="icon feather icon-clock m-r-10"></i>30 min</span></p>
                                            <p>Work Pending</p>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <div class="noti-footer">
                                <a href="javascript:">show all</a>
                            </div>
                        </div>
                    </div>
                </li> -->
                <li>
                    <div class="dropdown drp-user">
                        <a href="javascript:" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="icon feather icon-settings"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-right profile-notification">
                            <div class="pro-head">
                                <img src="../assets/images/user/avatar-1.jpg" class="img-radius"
                                    alt="User-Profile-Image">
                                <span id="employeeProfileName" >Welcome ADMIN</span>
                                <!-- <a href="../index.html" class="dud-logout" title="Logout"> -->
                                    
                                <!-- </a> -->
                            </div>
                            <ul class="pro-body">
                                <li onclick="employeeLogout()" ><a style="display: flex;align-items: center;justify-content: center;font-size: 16px;" href="javascript:" class="dropdown-item"><i  class="feather icon-log-out"></i>
                                        Log Out</a></li>
                                <!-- <li><a href="javascript:" class="dropdown-item"><i class="feather icon-user"></i>
                                        Profile</a></li>
                                <li><a href="../message.html" class="dropdown-item"><i class="feather icon-mail"></i> My
                                        Messages</a></li>
                                <li><a href="../auth-signin.html" class="dropdown-item"><i
                                            class="feather icon-lock"></i> Lock Screen</a></li> -->
                            </ul>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </header>
    <!-- [ Header ] end -->

    <!-- [ Main Content ] start -->
    <div class="pcoded-main-container">
        <div class="pcoded-wrapper">
            <div class="pcoded-content">
                <div class="pcoded-inner-content">
                    <!-- [ breadcrumb ] start -->

                    <div class="page-header">
                        <div class="page-block">
                            <div class="row align-items-center">
                                <div class="col-md-12">
                                    <div style="display: flex;align-items: center;justify-content: center;" class="page-header-title">
                                        <!-- <h3 class="m-b-10">Applicant List Table</h3> -->
                                    </div>
                                    <ul class="breadcrumb">
                                        <li class="breadcrumb-item"><a href="employee.html"><i
                                                    class="feather icon-home"></i></a></li>
                                        <!-- <li class="breadcrumb-item"><a href="#!">Tables</a></li> -->
                                        <li class="breadcrumb-item"><a href="employeeAttendance.html">Employee Attendance List</a></li>
                                        <li class="breadcrumb-item"><a href="employeeAttendanceTasks.html">Employee Task List</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- [ breadcrumb ] end -->
                    <div class="main-body">
                        <div class="page-wrapper">
                            <!-- [ Main Content ] start -->
                            <div class="row">

                                <div class="col-xl-12">
                                    <div class="card">
                                        <div class="card-header">
                                            <h3>Employee Task Details</h3>

                                        </div>


                                        <div style="display: flex; align-items: end; justify-content: end;">

                                            <input id="employeeSearch" type="text" class="form-control w-25 me-3"
                                                placeholder="Employee Name / Site Name">

                                            <button type="button" class="btn me-3"
                                                style="margin: 0;padding: 0; height: 42px;width: 130px; font-weight: bold;background-color: #333f54; color: white;"
                                                data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                                                <i class="fa-solid fa-plus"></i>Add Tasks
                                            </button>


                                        </div>

                                        <div>

                                            <!--Employee Details Modal -->
                                            <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static"
                                                data-bs-keyboard="false" tabindex="-1"
                                                aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                                <div class="modal-dialog">
                                                    <div class="modal-content">
                                                        <div class="modal-header">
                                                            <h1 class="modal-title fs-5" id="staticBackdropLabel">Add
                                                                Tasks
                                                            </h1>
                                                            <button onclick="removeAlert()" type="button"
                                                                class="btn-close" data-bs-dismiss="modal"
                                                                aria-label="Close"></button>
                                                        </div>
                                                        <div class="modal-body">
                                                            


                                                            <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Select Site From Dropdown</label>
                                                                    <select id="attendanceTaskSiteId" class="form-select" aria-label="Default select example">
                                                                        <option selected>Office ID</option>
                                                                        
                                                                      </select>
                                                            </div>
<!-- 
                                                            <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Select Reporting Time</label>
                                                                <input type="time" class="form-control"
                                                                    id="attendanceTaskTime"
                                                                    placeholder="Select Reporting Time">
                                                            </div>

                                                            <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Longitude / Latitude</label>
                                                                <input type="text" class="form-control"
                                                                    id="attendanceTaskLongLat"
                                                                    placeholder="Enter Longitude And Latitude">
                                                            </div> -->

                                                            <!-- <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Accuracy</label>
                                                                <input type="text" class="form-control"
                                                                    id="attendanceTaskAccuracy"
                                                                    placeholder="Enter Accuracy">
                                                            </div> -->

                                                            <!-- <div class="mb-3">

                                                                <label for="exampleFormControlInput1"
                                                                class="form-label">Designation</label> -->

                                                            <!-- <select id="adminEmployeeDesignation" class="form-select"
                                                            aria-label="Default select example"> -->
                                                            <!-- <option selected>Open this select menu</option> -->
                                                            <!-- <option value="Administration">Administration</option>
                                                            <option value="Management">Management</option>
                                                            <option value="Documentation">Documentation</option>
                                                            <option value="Finance">Finance</option>
                                                            <option value="Agent">Agent</option>
                                                            
                                                        </select> -->

                                                        <!-- <input type="text" placeholder="Enter the designation" class="form-control" id="adminEmployeeDesignation"> -->

<!--                                                                 
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Designation</label>
                                                                <input type="text" class="form-control"
                                                                    id="adminEmployeeDesignation"
                                                                    placeholder="Enter Designation"> -->
                                                            <!-- </div> -->

                                                            <!-- <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Department of Work</label>
                                                                <input type="text" class="form-control"
                                                                    id="adminEmployeeDepartment"
                                                                    placeholder="Enter Department Name">
                                                            </div> -->


                                                            <!-- <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Age</label>
                                                                <input type="number" class="form-control"
                                                                    id="adminEmployeeAge" placeholder="Enter Age">
                                                            </div> -->

                                                            <!-- <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Phone Number</label>
                                                                <input type="number" class="form-control"
                                                                    id="adminEmployeePhone"
                                                                    placeholder="Enter Phone Number">

                                                                <span style="color: red;" class="mt-3"
                                                                    id="alertPhone"></span>
                                                            </div> -->

                                                            <!-- <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Email</label>
                                                                <input type="email" class="form-control"
                                                                    id="adminEmployeeEmail" placeholder="Enter Email">
                                                            </div> -->

                                                            <!-- <div class="mb-3">
                                                                <label for="exampleFormControlInput1"
                                                                    class="form-label">Date</label>
                                                                <input type="date" class="form-control"
                                                                    id="adminEmployeeDate" placeholder="Select Date">
                                                            </div> -->

                                                            <div style="text-align: center;" >
                                                                <p style="color: red;" class="mt-5" id="adminTaskAlertNew" ></p>
                                                            </div>


                                                        </div>
                                                        <div class="modal-footer">
                                                            <button onclick="removeAlert()" type="button"
                                                                class="btn btn-danger"
                                                                data-bs-dismiss="modal">Close</button>
                                                            <button type="button" class="btn btn-success"
                                                                onclick="updateDataEmployeeAdmin()"
                                                                style="color: black;">Update Employee Details</button>

                                                            <!-- <button type="button" class="btn btn-warning"
                                                                onclick="clearFormData()" style="color: black;">Clear
                                                                Form</button> -->
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <!-- Modal End -->



                                        <!-- Employee Details Edit Modal -->
                                        <div class="modal fade" id="staticBackdrop12" data-bs-backdrop="static"
                                            data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel"
                                            aria-hidden="true">
                                            <div class="modal-dialog">
                                                <div class="modal-content">
                                                    <div class="modal-header">
                                                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Edit
                                                            Reporting Time

                                                        </h1>
                                                        <button onclick="removeAlert()" type="button" class="btn-close"
                                                            data-bs-dismiss="modal" aria-label="Close"></button>
                                                    </div>
                                                    <div class="modal-body">


                                                        <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Reporting Time</label>
                                                            <input type="time" class="form-control"
                                                                id="attendanceTaskReporingTimeEdit" placeholder="Enter Reporting Time">
                                                        </div>

                                                        <!-- <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Password</label>
                                                            <input type="text" class="form-control"
                                                                id="adminEditEmployeePassword"
                                                                placeholder="Enter Project ID">
                                                        </div>


                                                        <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Address</label>
                                                            <input type="text" class="form-control"
                                                                id="adminEditEmployeeAddress"
                                                                placeholder="Enter Address">
                                                        </div> -->

                                                        <!-- <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">User Id</label>
                                                            <input type="text" class="form-control"
                                                                id="adminEditEmployeeUserId"
                                                                placeholder="Enter User ID">
                                                        </div>

                                                        <div class="mb-3">

                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Designation</label> -->
                                                            <!-- <select id="adminEditEmployeeDesignation" class="form-select"
                                                            aria-label="Default select example"> -->
                                                            <!-- <option selected>Open this select menu</option> -->
                                                            <!-- <option value="Administration">Administration</option>
                                                            <option value="Management">Management</option>
                                                            <option value="Documentation">Documentation</option>
                                                            <option value="Finance">Finance</option>
                                                            <option value="Agent">Agent</option>
                                                            
                                                        </select> -->
                                                            <!-- <label for="exampleFormControlInput1"
                                                                class="form-label">Designation</label>
                                                            <input type="text" class="form-control"
                                                                id="adminEditEmployeeDesignation"
                                                                placeholder="Enter Designation"> -->

                                                                <!-- <input id="adminEditEmployeeDesignation" class="form-control" type="text" placeholder="Enter The Designation">

                                                        </div> -->

                                                        <!-- <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Department of Work</label>
                                                            <input type="text" class="form-control"
                                                                id="adminEditEmployeeDepartment"
                                                                placeholder="Enter Department Name">
                                                        </div>


                                                        <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Age</label>
                                                            <input type="number" class="form-control"
                                                                id="adminEditEmployeeAge" placeholder="Enter Age">
                                                        </div>

                                                        <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Phone Number</label>
                                                            <input type="number" class="form-control"
                                                                id="adminEditEmployeePhone"
                                                                placeholder="Enter Phone Number">
                                                            <span style="color: red;" class="mt-3"
                                                                id="editAlertPhone"></span>
                                                        </div> -->

                                                        <!-- <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Email</label>
                                                            <input type="email" class="form-control"
                                                                id="adminEditEmployeeEmail" placeholder="Enter Email">
                                                        </div>

                                                        <div class="mb-3">
                                                            <label for="exampleFormControlInput1"
                                                                class="form-label">Date</label>
                                                            <input type="date" class="form-control"
                                                                id="adminEditEmployeeDate" placeholder="Select Date">
                                                        </div> -->

                                                        <div
                                                            style="display: flex;align-items: center;justify-content: center;">
                                                            <span style="text-align: center;color: red;"
                                                                id="editEmployeeAlert"></span>
                                                        </div>



                                                    </div>
                                                    <div class="modal-footer">
                                                        <button onclick="removeAlert()" type="button"
                                                            class="btn btn-danger"
                                                            data-bs-dismiss="modal">Close</button>
                                                        <button type="button" class="btn btn-success"
                                                            onclick="editEmployeeDetailsModalButton()"
                                                            style="color: black;">Edit Employee Details</button>

                                                        <!-- <button type="button" class="btn btn-warning"
                                                                onclick="clearFormData()"
                                                                style="color: black;">Clear Form</button> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <!-- Employee Details Edit Modal End -->


                                        <div class="card-block table-border-style">
                                            <div class="table-responsive">
                                                <table class="table table-hover">
                                                    <thead class="table-light">
                                                        <tr>
                                                            <th>#</th>
                                                            <th>Employee <br> Name</th>
                                                            <th>Site Name</th>
                                                            <th>Site Id</th>
                                                            <th>See Punching <br> Details</th>
                                                            <th>Longitude / <br> Latitude</th>
                                                            <!-- <th>Accuracy</th> -->
                                                            <th>Reporting <br> Time</th>
                                                           
                                                            <th>Status</th>

                                                            <th>Edit Reporting <br> Time</th>

                                                            <th>Total Time <br> In Site (In Hours)</th>

                                                           

                                                            <th>Punching Count</th>
                                                           
                                                            <!-- <th>Edit Details</th> -->
                                                            <!-- <th>Show <br> Location</th> -->

                                                            
                                                        </tr>
                                                    </thead>
                                                    <tbody id="tablevalue" class="table-group-divider">


                                                    </tbody>
                                                </table>

                                                
                                            </div>
                                        </div>

                                        <!-- <div id="map"></div> -->
                                    </div>
                                </div>
                            </div>
                            <!-- [ Main Content ] end -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div>
        <!-- Toast container for notifications -->
        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
            <div id="toastContainer"></div>
        </div>
    </div>


    <!-- Map code -->

    <!-- <td><button onclick="updateMap(${value.longlat})" type="button" class="btn me-3" 
        >
        <i class="fa-solid fa-location-crosshairs fs-5"></i>
    </button></td> -->


    <!-- Required Js -->

    <script src="commonApi.js" ></script>
    <script src="../assets/js/vendor-all.min.js"></script>
    <script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script src="../assets/js/pcoded.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script> -->

    <!-- cookies script -->
<!-- <script src="employeeRole.js" ></script> -->

<!-- <script src="employeeCookie.js" ></script> -->
<script src="employeeLogout.js" ></script>

    <script>

let employeeTaskIdSavedFromAttendance = localStorage.getItem('adminAttendanceToTaskIdSavedLs')
let employeeUniqueFidSavedFromAttendance = localStorage.getItem('adminAttendanceEmployeeTaskIdSaved')
// var employeeOfficeIdSavedFromDbToLogin = localStorage.getItem('employeeOfficeIdSavedFromDbToLogin')
// var employeeUniqueIdSavedFromDbInLsIndex = localStorage.getItem('employeeUniqueIdSavedFromDbInLsIndex')

// var employeeProfileName = localStorage.getItem('employeeNameSavedFromDbInLs')
//         console.log(employeeProfileName)

        // document.getElementById('employeeProfileName').innerHTML = 'Welcome '


        // To print dummy
//         var valueOfData;

//         const postData = {
//             "query": "select * from employ WHERE office_f_id=" + employeeOfficeIdSavedFromDbToLogin + " ORDER BY id;"
//         };

//         axios.post('https://gitfunswokhu.in/api/v1/users/getQuery', postData)
//             .then((response) => {
//                 valueOfData = response.data.message.rows;
//                 console.log("value of Employee", valueOfData);
//                 filterTasks(); // Call the filterTasks function after getting the data
//             })
//             .catch((error) => {
//                 console.error('Error:', error);
//             });

//         const filterTasks = () => {
//             const searchValue = document.getElementById('employeeSearch').value.toLowerCase();
//             const table = document.getElementById("tablevalue");
//             table.innerHTML = ""; // Clear existing table rows

//             valueOfData.forEach((value, index) => {
//                 if (value.name.toLowerCase().includes(searchValue) || value.designation.toLowerCase().includes(searchValue)) {
//                     table.innerHTML += `<tr>
//                 <td>${index + 1}</td>
//                 <td>${value.name}</td>
//                 <td>${value.address}</td>
//                 <td>${value.user_id}</td>
//                 <td>${value.password}</td>
//                 <td>${value.office_f_id}</td>
//                 <td>${value.designation}</td>
//                 <td>${value.department}</td>
//                 <td class="custom-td">${value.age}</td>
//                 <td>${value.phone}</td>
//                 <td>${value.email}</td>
//                 <td>${value.date}</td>
//                 <td><button onclick="editEmployeeDetails(${value.id})" type="button" class="btn me-3" 
//     data-bs-toggle="modal" data-bs-target="#staticBackdrop12">
//     <i class="fa-regular fa-pen-to-square"></i>
// </button></td>
//             </tr>`;
//                 }

//             });
//         };

//         document.getElementById('employeeSearch').addEventListener('keyup', filterTasks);



// Select Site details from the status query
const postDataOfOfficeNumber = {
            "query": "select id,name from site where status='Active';"

        };

        axios.post(employeeApi, postDataOfOfficeNumber)
            .then((response) => {
                const companies = response.data.message.rows;
                console.log('Total number of offiece ', companies)

                let listOfCompany = document.getElementById('attendanceTaskSiteId');
        listOfCompany.innerHTML = ''; // Clear existing options

        // listOfCompany.innerHTML += `<option selected>Office ID</option>`;
        companies.forEach(company => {
            listOfCompany.innerHTML += `<option value="${company.id}">${company.name}</option>`;
        });
    })
            .catch((error) => {
                console.error('Error:', error);
            });


            var listData 



    

const postData = {
        "query": "SELECT task.*, employ.name AS employ_name, site.name AS site_name, site.longlat, COALESCE((SELECT SUM(CAST(total_time AS FLOAT)) FROM punching WHERE punching.task_f_id = task.id), 0) AS total_punching_time, COALESCE((SELECT COUNT(id) FROM punching WHERE punching.task_f_id = task.id), 0) AS punching_count FROM task INNER JOIN employ ON task.employ_f_id = employ.id INNER JOIN site ON task.site_f_id = site.id WHERE task.attendance_f_id = '"+employeeTaskIdSavedFromAttendance+"' ORDER BY task.id;"
};
    axios.post(employeeApi, postData)
        .then((response) => {
            listData = response.data.message.rows.slice().reverse();
            // changePage(currentPage);
            console.log("value of the values in the tasks tab", listData);

            // populateTable(valueOf)
            filterTasks(listData);

            // const employeeTaskTable = document.getElementById('employeeTaskTable');
        })






  const filterTasks = () => {
            const searchValue = document.getElementById('employeeSearch').value.toLowerCase();
            const table = document.getElementById("tablevalue");
            table.innerHTML = ""; // Clear existing table rows

            listData.forEach((value, index) => {
                if (value.employ_name.toLowerCase().includes(searchValue) || value.site_name.toLowerCase().includes(searchValue)) {
                    table.innerHTML += `<tr>
                <td>${index + 1}</td>
                <td>${value.employ_name}</td>
                <td>${value.site_name}</td>
                <td>${value.site_f_id}</td>
                <td  style="display: flex;align-items: center;justify-content: center;"><button onclick="showPunchingDetailsFunction(${value.id})" type="button" class="btn me-3" 
    >
    <i class="fa-solid fa-fingerprint fs-5"></i>
</button></td>
                <td>${value.longlat}</td>
                
                <td>${value.reporting_time}</td>
               

                <td><select style="width: 140px;" class="form-select" aria-label="Default select example" onchange="updateStatus(this.value, ${value.site_f_id})">
                                                            <option ${value.status === 'Active' ? 'selected' : ''}>Active</option>
                                                            <option ${value.status === 'Inactive' ? 'selected' : ''}>Inactive</option>
                                                           
                                                            </select></td>
               
              
               
                <td><button onclick="editEmployeeDetails(${value.id})" type="button" class="btn me-3" 
    data-bs-toggle="modal" data-bs-target="#staticBackdrop12">
    <i class="fa-regular fa-pen-to-square"></i>
</button></td>

<td>${value.total_punching_time}</td>

 <td>${value.punching_count}</td>





            </tr>`;
                }

            });
        };

        document.getElementById('employeeSearch').addEventListener('keyup', filterTasks);

        
        //
// Map Details

// Initialize the map
// var map = L.map('map').setView([51.505, -0.09], 13); // Default coordinates

// // Add the OpenStreetMap tiles
// L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
//     attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
// }).addTo(map);

// // Add a marker to the map
// var marker = L.marker([51.505, -0.09]).addTo(map);

// // Function to update the map with new coordinates
// function updateMap(latitude, longitude) {
//     map.setView([latitude, longitude], 13);
//     marker.setLatLng([latitude, longitude]);
// }

// Example: Update the map with new coordinates
 // San Francisco coordinates

        
    function updateStatus(status, index) {

//console.log('The name of id is: ',appId)
//console.log('The name of date is: ',appDate)
//console.log('The name of id is: ',appName)

event.stopPropagation();
// console.log('Id value inside the update status is :',newId)
const postData = {
"query": "Update site SET status='"+status+"' where id='"+index+"';"
}

console.log("post data in enquiry form is ",postData)

axios.post(employeeApi, postData)
.then((response) => {
    console.log('Updated Data :', response.data);
   window.location.reload();
})
.catch((error) => {
    console.error('Error:', error);
});

    }



        // Alert
        //


        // let alertDisplayed = false; // Flag to track if alert has been displayed

        // Function to create and display alert
        function displayAlert() {
            if (!alertDisplayed) {
                const alertElement = document.createElement('div');
                alertElement.className = 'alert alert-danger';
                alertElement.role = 'alert';
                alertElement.innerHTML = '!! Please Enter All Values In All the Fields';

                const modalBody = document.querySelector('.modal-body');
                modalBody.insertBefore(alertElement, modalBody.lastChild);

                alertDisplayed = true; // Set flag to true after displaying alert
            }
        }

        // Function to remove alert
        function removeAlert() {
            
            // if (alertElement) {
            //     alertElement.remove();
            //     alertDisplayed = false; // Set flag to false after removing alert
            // }

            document.getElementById('adminTaskAlertNew').innerHTML = ' '

           
        }








        // Update Employee Data Function Start

        function updateDataEmployeeAdmin() {
            var attendanceTaskSiteId = document.getElementById('attendanceTaskSiteId').value
            // var attendanceTaskTime = document.getElementById('attendanceTaskTime').value
            // var attendanceTaskLongLat = document.getElementById('attendanceTaskLongLat').value
            // var attendanceTaskAccuracy = document.getElementById('attendanceTaskAccuracy').value
           
            // var adminEmployeeDate = document.getElementById('adminEmployeeDate').value

            // var dateToday = new Date()

            // Get current date and time in UTC
let now = new Date();

// Convert to IST (UTC+5:30)attendanceTaskSiteId
let istOffset = 5.5 * 60 * 60 * 1000; // IST offset in milliseconds
let istDate = new Date(now.getTime() + istOffset);

// Format the date as YYYY-MM-DD
let year = istDate.getUTCFullYear();
let month = String(istDate.getUTCMonth() + 1).padStart(2, '0');
let day = String(istDate.getUTCDate()).padStart(2, '0');

// Combine the parts to get the formatted date
let todaysDateIs = `${year}-${month}-${day}`;

// console.log('today date is',todaysDate);

//             console.log('The time is :',adminEmployeeDate)
            // console.log('Today date is',dateToday)


            if (!attendanceTaskSiteId ) {

                displayAlert()
               


            } 
            // else if (adminEmployeePhone.length !== 10) {
            //     document.getElementById('alertPhone').innerHTML = 'Please enter correct phone number'
            // } 
            else {

                removeAlert()
                const postData = {
                    "query": "INSERT INTO task (employ_f_id, site_f_id, attendance_f_id) VALUES ('"+employeeUniqueFidSavedFromAttendance+"', '"+attendanceTaskSiteId+"','"+employeeTaskIdSavedFromAttendance+"');"
                }

                axios.post(employeeApi, postData)
                    .then((response) => {
                        // Handle response if needed

                        console.log('Data inserted')
                        console.log("Post data of admin task", postData)
                       
                        
                        window.location.reload()
                        console.log('After the reload')
                        // clearFormData()
                    })
                    .catch((error) => {
                        console.log('Error:', error);
                        document.getElementById('adminTaskAlertNew').innerHTML = 'This site is alresdy added in the tasks list.'
                        
                    });

                    // window.location.reload();
            }

        }


        // Clear form function starts

        function clearFormData() {
            removeAlert()

            document.getElementById('adminEmployeePassword').value = ''
            document.getElementById('adminEmployeeName').value = ''
            document.getElementById('adminEmployeeAddress').value = ''
            document.getElementById('adminEmployeeUserId').value = ''
            document.getElementById('adminEmployeeDesignation').value = ''
            document.getElementById('adminEmployeeDepartment').value = ''
            document.getElementById('adminEmployeeAge').value = ''
            document.getElementById('adminEmployeePhone').value = ''
            document.getElementById('adminEmployeeEmail').value = ''
            document.getElementById('adminEmployeeDate').value = ''



        }


        // Function to edit the employee details


       
        let attendanceTaskReporingTimeEditValue
        let idOfTaskSelected


        function editEmployeeDetails(taskReportingId) {

            idOfTaskSelected = taskReportingId;
            const postData = {
                "query": "select reporting_time from task where id='" + taskReportingId + "';"
            };
            var employeeData;
            axios.post(employeeApi, postData)
                .then((response) => {
                    taskDataSelected = response.data.message.rows;
                    console.log("value of Employee in select 1231", taskDataSelected);
                    // Update modal fields with employee data


                    attendanceTaskReporingTimeEditValue = taskDataSelected[0].reporting_time;
                   


                    document.getElementById('attendanceTaskReporingTimeEdit').value = attendanceTaskReporingTimeEditValue;
                    


                })
                .catch((error) => {
                    console.error('Error:', error);
                });
        }



        function editEmployeeDetailsModalButton() {


            attendanceTaskReporingTimeEditValue1 = document.getElementById('attendanceTaskReporingTimeEdit').value
            
           

            if (!attendanceTaskReporingTimeEditValue1) {

                document.getElementById('editEmployeeAlert').innerHTML = 'Please fill all the fields'
            }

            else {

                console.log("idofemployee selected44 ", idOfTaskSelected)
                const postData = {
                    "query": "Update task SET reporting_time='" + attendanceTaskReporingTimeEditValue1 + "' WHERE id='" + idOfTaskSelected + "';"
                }
                console.log("post data is ", postData)

                axios.post(employeeApi, postData)
                    .then((response) => {
                        // Handle response if needed
                        window.location.reload()

                    

                        console.log("Post data of admin task", postData)

                    })
                    .catch((error) => {
                        console.error('Error:', error);
                    });

            }



        }


        // function resetDeviceId (id) {


        //  const postData = {
        //             "query": "UPDATE employ SET device_id='' WHERE id='"+id+"';"
        //         }
        //         console.log("post data is ", postData)

        //         axios.post('https://alpha.gitfunswokhu.in/api/v1/users/getQuery', postData)
        //             .then((response) => {
        //                 // Handle response if needed
        //                 window.location.reload()

        //                 console.log("Post data of admin task", postData)

        //             })
        //             .catch((error) => {
        //                 console.error('Error:', error);
        //             });

        // }


        // Show punching details function

        function showPunchingDetailsFunction  (taskId)  {

            // console.log('The task id inside the function is:',taskId)

            localStorage.setItem('taskIdSavedToEmployeePunchins',taskId)

            window.location.href = 'employeePunchins.html'

        }


    </script>

</body>

</html>